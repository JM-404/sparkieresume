<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Resume Interview</title>
    <link rel="stylesheet" href="chat.css" />
  </head>
  <body>
    <div class="app-container">
      <!-- Header -->
      <header class="app-header">
        <div class="logo-area">
          <h1 data-i18n="app_title">Interview Mode</h1>
          <span class="subtitle" data-i18n="app_subtitle">Interactive Profile Builder</span>
        </div>
        <div class="header-controls">
          <div class="lang-switch">
            <button id="langEn" class="lang-btn active">EN</button>
            <button id="langZh" class="lang-btn">ä¸­æ–‡</button>
          </div>
        </div>
      </header>

      <!-- Main Content -->
      <main class="main-layout">
        <!-- Left Column: Chat & Interaction -->
        <section class="column chat-column">
          <!-- Session Control Card -->
          <div class="card session-card">
            <div class="card-header">
              <h2 data-i18n="title_session">Session</h2>
              <div class="session-actions">
                <button id="newSessionBtn" class="icon-btn" title="New Session" data-i18n-title="btn_new">+</button>
                <button id="renameSessionBtn" class="icon-btn" title="Rename" data-i18n-title="btn_rename">âœŽ</button>
                <button id="deleteSessionBtn" class="icon-btn danger" title="Delete" data-i18n-title="btn_delete">ðŸ—‘</button>
              </div>
            </div>
            <div class="session-select-wrapper">
              <select id="sessionSelect"></select>
            </div>
          </div>

          <!-- Chat Area -->
          <div class="card chat-card">
            <div class="chat-messages" id="chatBox">
              <!-- Messages will appear here -->
            </div>
            
            <!-- Input Area -->
            <div class="chat-input-area">
              <div class="input-controls">
                 <button id="startInterviewBtn" class="action-btn" data-i18n="btn_start_interview">Start Interview</button>
                 <button id="micBtn" class="action-btn secondary" data-i18n="btn_voice_input">Voice Input</button>
                 <select id="fillLanguageSelect" class="lang-select">
                    <option value="auto">Auto</option>
                    <option value="zh">ä¸­æ–‡</option>
                    <option value="en">English</option>
                 </select>
              </div>
              <div class="input-wrapper">
                <textarea id="chatInput" rows="3" data-i18n-placeholder="ph_chat_input" placeholder="Type your answer here..."></textarea>
                <button id="sendBtn" class="send-btn" data-i18n="btn_send">Send</button>
              </div>
              <div id="status" class="status-text"></div>
            </div>
          </div>
        </section>

        <!-- Right Column: Profile Preview -->
        <section class="column profile-column">
          <div class="card profile-card">
            <div class="card-header">
              <h2 data-i18n="title_profile_preview">Live Profile Preview</h2>
              <button id="refreshMdBtn" class="icon-btn refresh-btn" title="Refresh" data-i18n-title="btn_refresh">â†»</button>
            </div>
            
            <div class="completeness-bar">
              <div class="completeness-info">
                <span data-i18n="lbl_completeness">Completeness</span>
                <strong id="completenessScore">0%</strong>
              </div>
              <div class="progress-track">
                <div id="completenessFill" class="progress-fill" style="width: 0%"></div>
              </div>
            </div>

            <div id="requiredMissingList" class="missing-items"></div>
            
            <div class="markdown-preview">
              <pre id="profileMdView">Loading profile.md...</pre>
            </div>
          </div>
        </section>
      </main>
    </div>

    <script src="chat.js"></script>
  </body>
</html>